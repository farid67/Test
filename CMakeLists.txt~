include (GenerateExportHeader)
INCLUDE(InstallRequiredSystemLibraries)

cmake_minimum_required(VERSION 2.6)

project(Hello)

# message("\n ${CMAKE_CURRENT_SOURCE_DIR}/src/app ")

add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/src/app)
add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/src/lib)


# division en 3 paquets : Hello (app + src) Hello-lib (.so) Hello-dev (.so) -> les 2 premiers dépendent du dév

# fichiers de base
install (FILES ${CMAKE_CURRENT_SOURCE_DIR}/src/lib/test.h COMPONENT lib)
install (FILES ${CMAKE_CURRENT_SOURCE_DIR}/src/lib/test.c DESTINATION src/lib COMPONENT app)
install (FILES ${CMAKE_CURRENT_SOURCE_DIR}/src/app/main.c DESTINATION src/app COMPONENT app)
install (FILES ${CMAKE_CURRENT_SOURCE_DIR}/doc/README DESTINATION doc COMPONENT app)



include (CPack.txt)
